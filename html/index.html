<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dhruv Lior â€” Portfolio</title>
  <meta name="description" content="Dhruv Lior â€” programmer â€¢ creator â€¢ blogger" />
  <style>
    :root{
      /* Night defaults */
      --bg: #0b0f14;            /* canvas */
      --ink: #eef3ff;           /* text */
      --muted:#9aa3ad;          /* secondary */
      --line:#1b2432;           /* borders */
      --accent:#ffd966;         /* fireflies yellow & accents */
      --box: rgba(255,255,255,0.04);
      --modal:#0e1420;          /* modal bg */
    }
    body.day{
      /* Day (snow) palette */
      --bg:#6c7272;             /* clear / cloudy sky */
      --ink:#111;
      --muted:#fafafa;
      --line:#cfd7e3;
      --accent:#7aa2ff;         /* light blue accent */
      --box: rgba(255,255,255,0.65);
      --modal:#ffffff;
    }

    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0; color:var(--ink); background:var(--bg);
      font:16px/1.65 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      scroll-behavior:smooth; overscroll-behavior-y:none;
      transition: background-color .4s ease, color .4s ease;
    }

    a{color:inherit; text-decoration:none}
    .container{max-width:1100px; margin-inline:auto; padding:0 22px; position:relative; z-index:2}

    /* ===== Nav ===== */
    header{position:sticky; top:0; z-index:6; background:color-mix(in oklab,var(--bg) 85%, transparent); backdrop-filter:saturate(1.2) blur(10px); border-bottom:1px solid var(--line)}
    .nav{display:flex; align-items:center; justify-content:space-between; height:64px}
    .brandwrap{display:flex; align-items:center; gap:12px}
    .brand{display:flex; align-items:center; gap:10px; font-weight:900; letter-spacing:.2px}
    .dot{width:10px; height:10px; border-radius:999px; background:var(--accent); box-shadow:0 0 0 2px color-mix(in oklab,var(--bg) 70%, transparent)}
    .mode-toggle{cursor:pointer; width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; border:1px solid var(--line); background:color-mix(in oklab,var(--bg) 80%, transparent); color:var(--ink); transition: background .25s, color .25s, transform .15s}
    .mode-toggle:hover{background:var(--accent); color:#111; transform:translateY(-1px)}
    .links{display:flex; gap:18px}
    .links a{color:var(--muted); font-weight:700}
    .links a:hover{color:var(--ink)}

    /* ===== Sheet layout + transitions ===== */
    main{scroll-snap-type:y mandatory; height:100svh; overflow-y:auto}
    section.sheet{position:relative; min-height:100svh; scroll-snap-align:start; display:grid; place-items:center; border-bottom:1px solid var(--line); isolation:isolate}
    .sheet .inner{width:100%}

    /* Graphite/sky "box" per page */
    .sheet::before{
      content:""; position:absolute; inset:22px; border-radius:20px;
      background:var(--box); /* light graphite / cloudy overlay */
      border:1px solid var(--line); box-shadow:0 14px 40px rgba(0,0,0,.25);
      z-index:-1; transform:translateY(16px) scale(.98); opacity:.9;
      transition: transform .75s cubic-bezier(.16,1,.3,1), opacity .75s cubic-bezier(.16,1,.3,1)
    }

    .sheet{transform:translateZ(0); transition: transform .7s cubic-bezier(.16,1,.3,1), opacity .7s cubic-bezier(.16,1,.3,1), filter .7s cubic-bezier(.16,1,.3,1)}
    .sheet[data-state="prev"]{transform:translateY(-22%) scale(.96); opacity:0; filter:blur(8px)}
    .sheet[data-state="next"]{transform:translateY(14%) scale(.985); opacity:.92}
    .sheet[data-state="active"]{transform:none; opacity:1; filter:none}
    .sheet[data-state="active"]::before{transform:none; opacity:1}

    /* Progress */
    .progress{position:fixed; top:0; left:0; height:3px; background:var(--accent); width:0%; z-index:7; transition:background .4s}

    /* ===== Global Canvas (particles) ===== */
    #bg{position:fixed; inset:0; z-index:0; width:100%; height:100%; pointer-events:none}

    /* ===== Hero ===== */
    #hero{isolation:isolate}
    .hero-content{padding:42px 0; text-align:center}
    .kicker{color:var(--muted); letter-spacing:.14em; text-transform:uppercase; font-size:.82rem}
    h1.hero-title{font-size:clamp(40px,9vw,120px); line-height:1.02; margin:.2em 0 .05em; letter-spacing:.12em}
    .sub{color:color-mix(in oklab,var(--ink) 70%,var(--muted)); font-size:clamp(16px,2.2vw,22px)}
    .cta-row{display:flex; gap:12px; justify-content:center; margin-top:16px; flex-wrap:wrap}
    .btn{display:inline-flex; align-items:center; justify-content:center; height:46px; padding:0 16px; border:1px solid var(--line); border-radius:14px; background:color-mix(in oklab,var(--bg) 75%, transparent); font-weight:800}
    .btn:hover{box-shadow:0 10px 40px rgba(0,0,0,.35); transform:translateY(-1px)}
    .btn.primary{background:var(--accent); color:#111; border:0}

    /* ===== Sections ===== */
    .section-title{font-size:1.2rem; color:var(--muted); letter-spacing:.3px; margin-bottom:12px; text-align:center}
    .grid{display:grid; gap:16px}
    .card{border:1px solid var(--line); border-radius:16px; padding:16px; background:color-mix(in oklab,var(--bg) 80%, transparent)}
    .meta{color:var(--muted)}

    /* ===== Modal (blog post) ===== */
    .modal{position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; z-index:999}
    .modal.open{display:flex}
    .modal-content{background:var(--modal); color:var(--ink); width:min(820px,90vw); max-height:85vh; overflow:auto; border-radius:16px; border:1px solid var(--line); box-shadow:0 20px 60px rgba(0,0,0,.45); padding:20px}
    .modal-close{cursor:pointer; float:right; font-weight:900; opacity:.7}
    .modal-close:hover{opacity:1}

    footer{padding:22px 0; color:var(--muted); text-align:center}
  </style>
</head>
<body>
  <div class="progress" id="progress"></div>

  <header>
    <div class="container nav">
      <div class="brandwrap">
        <a class="brand" href="#hero" aria-label="Home"><span class="dot" aria-hidden="true"></span><span>Dhruv Lior</span></a>
        <button id="mode-toggle" class="mode-toggle" aria-label="Toggle theme">ðŸŒ™</button>
      </div>
      <nav class="links" aria-label="Primary">
        <a href="#blog">Blog</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>
        <a href="https://youtube.com/" target="_blank" rel="noopener">YouTube</a>
      </nav>
    </div>
  </header>

  <!-- Global particles canvas (night=fireflies, day=snow) -->
  <canvas id="bg" aria-hidden="true"></canvas>

  <main id="viewport">
    <!-- ===== Hero ===== -->
    <section class="sheet" id="hero" data-state="active">
      <div class="container hero-content">
        <div class="kicker">programmer â€¢ creator â€¢ blogger</div>
        <h1 class="hero-title">DHRUV LIOR</h1>
        <p class="sub">IF EVERYONE AGREES WITH YOU, YOU'RE NOT BULILDING ANYTHING NEW.</p>
        <div class="cta-row">
          <a class="btn primary" href="#blog">Read Blog</a>
          <a class="btn" href="#contact">Contact</a>
        </div>
      </div>
    </section>

    <!-- ===== Blog ===== -->
    <section class="sheet" id="blog" data-state="next">
      <div class="container inner">
        <div class="section-title">Blog</div>
        <div class="grid">
          <article class="card" data-post="hello-world"><h3>Hello, World</h3><p class="meta">Why I started this space.</p></article>
          <article class="card" data-post="binary-lifting"><h3>Binary Lifting</h3><p class="meta">Cheat-sheet + pitfalls.</p></article>
          <article class="card" data-post="calm-dense-ui"><h3>Calm Dense UI</h3><p class="meta">Make rich pages feel light.</p></article>
        </div>
      </div>
    </section>

    <!-- ===== About ===== -->
    <section class="sheet" id="about" data-state="next">
      <div class="container inner">
        <div class="section-title">About</div>
        <article class="card">
          <p>Iâ€™m a 20-year-old Computer Science senior from Asia, and I often go by the username <strong>mr lior</strong>.</p>
          <p>My journey into programming began when I was 8 years old. Back then, I loved building with Legos, and one day I stumbled upon YouTube videos of Lego robots. That discovery opened my eyes to the endless possibilities of computer programs and the joy of challenging myself to bring ideas to life. Ever since, programming has been at the heart of my journey.</p>
          <p>Outside of coding, I love <strong>traveling solo</strong> and find peace in nature through <strong>hiking</strong>. So far, Iâ€™ve climbed nearly <strong>12 mountains</strong>, and my dream is to reach <strong>100 peaks</strong>â€”maybe even Mount Everest or K2 one day. These adventures constantly remind me of perseverance, patience, and pushing beyond limitsâ€”the same values I carry into programming.</p>
          <p>Iâ€™m always eager to challenge myself with new goals and learn something every day. For example, this very website is something I built to share my work, thoughts, and projects with the world.</p>
          <p>I truly welcome <strong>constructive feedback</strong> and suggestions. If you have ideas on how I can improveâ€”or if youâ€™d just like to connectâ€”Iâ€™d love to hear from you.</p>
        </article>
      </div>
    </section>

    <!-- ===== Contact ===== -->
    <section class="sheet" id="contact" data-state="next">
      <div class="container inner">
        <div class="section-title">Letâ€™s ship something neat.</div>
        <article class="card" style="text-align:center">
          <p class="meta">Prefer email, but socials are fine.</p>
          <p>
            <a class="btn primary" href="mailto:hello@yourmail.com">Email</a>
            <a class="btn" href="https://github.com/" target="_blank" rel="noopener">GitHub</a>
            <a class="btn" href="https://youtube.com/" target="_blank" rel="noopener">YouTube</a>
          </p>
        </article>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">Â© <span id="y"></span> Dhruv Lior</div>
  </footer>

  <!-- ===== Blog Modal ===== -->
  <div id="post-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="post-title">
    <div class="modal-content">
      <span id="close-modal" class="modal-close" aria-label="Close">Ã—</span>
      <h2 id="post-title"></h2>
      <p id="post-date" class="meta"></p>
      <div id="post-body"></div>
    </div>
  </div>

  <script>
    /* =============================
       Theme toggle + persistence
       ============================= */
    const modeBtn = document.getElementById('mode-toggle');
    let mode = localStorage.getItem('mode') || 'night';
    function applyMode(){
      document.body.classList.toggle('day', mode==='day');
      modeBtn.textContent = mode==='day' ? 'â˜€ï¸' : 'ðŸŒ™';
      resetParticles();
    }
    modeBtn.addEventListener('click', ()=>{
      mode = (mode==='night') ? 'day' : 'night';
      localStorage.setItem('mode', mode);
      applyMode();
    });

    /* =============================
       Particles: night=fireflies, day=snow (dramatic, bright)
       ============================= */
    const canvas = document.getElementById('bg');
    const ctx = canvas.getContext('2d');
    let W, H, particles = []; let last = performance.now();
    let wind = 0, gust = 0, gustTarget = 0, gustTimer = 0;
    const dpr = Math.min(2, window.devicePixelRatio || 1);

    function resize(){
      W = canvas.width = Math.floor(window.innerWidth * dpr);
      H = canvas.height = Math.floor(window.innerHeight * dpr);
      ctx.setTransform(dpr,0,0,dpr,0,0);
      resetParticles();
    }
    window.addEventListener('resize', resize);

    function resetParticles(){
      particles = [];
      if(mode==='night'){
        for(let i=0;i<100;i++){
          particles.push({
            type:'fly',
            x: Math.random()*(W/dpr), y: Math.random()*(H/dpr),
            vx:(Math.random()-.5)*0.09, vy:(Math.random()-.5)*0.09,
            r: 1 + Math.random()*1.8, phase: Math.random()*Math.PI*2,
            twinkle: 0.4 + Math.random()*0.6
          });
        }
      } else { // day â†’ SNOW: multi-layer, wind, gusts, trails
        const layers = [
          {name:'far',  count:120, size:[1.0,1.8], speed:[0.25,0.5],  drift:[0.15,0.35]},
          {name:'mid',  count:90,  size:[1.8,3.0], speed:[0.40,0.90], drift:[0.25,0.70]},
          {name:'near', count:60,  size:[2.5,4.5], speed:[0.90,1.60], drift:[0.45,1.00]}
        ];
        function rand([a,b]){ return a + Math.random()*(b-a); }
        for(const L of layers){
          for(let i=0;i<L.count;i++){
            particles.push({
              type:'snow', layer:L.name,
              x: Math.random()*(W/dpr), y: Math.random()*(H/dpr),
              vy: rand(L.speed), r: rand(L.size),
              drift: (Math.random()<.5?-1:1)*rand(L.drift),
              phase: Math.random()*Math.PI*2,
              rot: Math.random()*Math.PI*2,
              spin: (Math.random()-.5)*0.03,
              trail: []
            });
          }
        }
        wind = 0; gust = 0; gustTarget = 0; gustTimer = 0;
      }
    }

    function draw(){
      requestAnimationFrame(draw);
      const now = performance.now();
      const dt = Math.min(32, now - last); // cap for stability
      last = now;
      ctx.clearRect(0,0,W,H);

      if(mode==='night'){
        // Fireflies with strong warm glow
        ctx.globalCompositeOperation = 'lighter';
        for(const f of particles){
          f.x += f.vx; f.y += f.vy;
          if (f.x<0) f.x += W/dpr; if (f.x>W/dpr) f.x -= W/dpr;
          if (f.y<0) f.y += H/dpr; if (f.y>H/dpr) f.y -= H/dpr;
          f.phase += 0.035 + (f.twinkle*0.012);
          const glow = 0.30 + 0.70 * Math.abs(Math.sin(f.phase));
          ctx.beginPath();
          ctx.fillStyle = `rgba(255, 221, 102, ${0.20 + glow*0.80})`;
          ctx.arc(f.x, f.y, f.r + glow*2.2, 0, Math.PI*2);
          ctx.fill();
          ctx.beginPath();
          ctx.fillStyle = `rgba(255, 238, 170, ${0.10 + glow*0.26})`;
          ctx.arc(f.x, f.y, (f.r+1.8) + glow*2.6, 0, Math.PI*2);
          ctx.fill();
        }
        ctx.globalCompositeOperation = 'source-over';
      } else {
        // ===== Dramatic bright snow with depth, wind & gusts =====
        // wind/gust logic
        gustTimer -= dt;
        if(gustTimer <= 0 && Math.random() < 0.01){
          gustTarget = (Math.random()<0.5?-1:1) * (0.8 + Math.random()*1.2);
          gustTimer = 1500 + Math.random()*2500;
        }
        gust += (gustTarget - gust) * 0.03;
        wind = Math.sin(now*0.00018) * 0.25 + gust;

        for(const s of particles){
          s.phase += 0.012 + s.vy*0.002;
          const depth = (s.layer==='near'?1.5:(s.layer==='mid'?1.0:0.65));
          const sway = Math.sin(s.phase) * s.drift * 0.7;
          s.x += sway + wind * depth;
          s.y += s.vy * (1 + (s.layer==='near'?0.3:0));
          if (s.y > H/dpr + 6) { s.y = -6; s.x = Math.random()*(W/dpr); s.trail.length = 0; }

          // trails for near flakes
          if(s.layer==='near'){
            s.trail.push({x:s.x, y:s.y});
            if(s.trail.length > 6) s.trail.shift();
          }

          if(s.layer==='far'){
            // bright tiny dots
            ctx.beginPath();
            ctx.fillStyle = 'rgba(220,230,255,1)';
            ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
          } else if(s.layer==='mid'){
            // bright soft circle + stronger white halo
            ctx.beginPath();
            ctx.fillStyle = 'rgba(230,238,255,1)';
            ctx.arc(s.x, s.y, s.r+0.7, 0, Math.PI*2); ctx.fill();
            ctx.beginPath();
            ctx.fillStyle = 'rgba(255,255,255,0.45)';
            ctx.arc(s.x, s.y, s.r+2.2, 0, Math.PI*2); ctx.fill();
          } else {
            // near: star-like + subtle spin + bright halo + motion trail
            s.rot += s.spin;
            const sz = s.r + 1.8;
            // trail
            ctx.save();
            ctx.strokeStyle = 'rgba(240,246,255,0.45)';
            ctx.lineWidth = 1;
            for(let i=1;i<s.trail.length;i++){
              const a = s.trail[i-1], b = s.trail[i];
              ctx.globalAlpha = i/s.trail.length;
              ctx.beginPath(); ctx.moveTo(a.x, a.y); ctx.lineTo(b.x, b.y); ctx.stroke();
            }
            ctx.restore();

            // flake cross
            ctx.save();
            ctx.translate(s.x, s.y); ctx.rotate(s.rot); ctx.globalAlpha = 0.98;
            ctx.strokeStyle = 'rgba(255,255,255,1)';
            ctx.lineWidth = 1.2;
            ctx.beginPath();
            ctx.moveTo(-sz, 0); ctx.lineTo(sz, 0);
            ctx.moveTo(0, -sz); ctx.lineTo(0, sz);
            ctx.moveTo(-sz*0.7, -sz*0.7); ctx.lineTo(sz*0.7, sz*0.7);
            ctx.moveTo(-sz*0.7,  sz*0.7); ctx.lineTo(sz*0.7, -sz*0.7);
            ctx.stroke();
            ctx.restore();

            // bright halo
            ctx.beginPath();
            ctx.fillStyle = 'rgba(255,255,255,0.35)';
            ctx.arc(s.x, s.y, sz*0.95, 0, Math.PI*2); ctx.fill();
          }
        }

        // occasional big bright flake for drama
        if(Math.random() < 0.006){
          particles.push({type:'snow', layer:'near', x: Math.random()*(W/dpr), y: -10, vy: 1.2+Math.random()*0.8, r: 3.5+Math.random()*2.5, drift:(Math.random()<.5?-1:1)*0.8, phase:0, rot:0, spin:(Math.random()-.5)*0.04, trail:[]});
        }
      }
    }

    /* Init */
    resize();
    applyMode();
    requestAnimationFrame(draw);

    /* =============================
       Sheet state + progress bar
       ============================= */
    const sheets = Array.from(document.querySelectorAll('.sheet'));
    const progress = document.getElementById('progress');
    const viewport = document.getElementById('viewport');
    const io = new IntersectionObserver((ents)=>{
      ents.forEach(e=>{
        if (e.isIntersecting){
          const idx = sheets.indexOf(e.target);
          sheets.forEach((s,i)=> s.dataset.state = i<idx ? 'prev' : i>idx ? 'next' : 'active');
          progress.style.width = ((idx)/(sheets.length-1))*100 + '%';
        }
      })
    }, {root:viewport, threshold:.6});
    sheets.forEach(s=>io.observe(s));

    /* =============================
       Blog modal system
       ============================= */
    const POSTS = {
      'hello-world': { title: 'Hello, World', date: '2025-08-01', body: `<p>This is my first post on this site. Excited to share and build in public!</p>` },
      'binary-lifting': { title: 'Binary Lifting', date: '2025-08-10', body: `<p>A compact cheat-sheet with pitfalls and a few gotchas I ran into while implementing binary lifting for LCA.</p>` },
      'calm-dense-ui': { title: 'Calm Dense UI', date: '2025-08-15', body: `<p>Notes on making information-rich layouts feel calm using spacing rhythm, subtle dividers, and predictable hierarchy.</p>` }
    };

    const modal = document.getElementById('post-modal');
    const closeBtn = document.getElementById('close-modal');
    const titleEl = document.getElementById('post-title');
    const dateEl = document.getElementById('post-date');
    const bodyEl = document.getElementById('post-body');

    function openPost(id){
      const p = POSTS[id]; if(!p) return;
      titleEl.textContent = p.title;
      dateEl.textContent = new Date(p.date).toDateString();
      bodyEl.innerHTML = p.body;
      modal.classList.add('open');
    }
    function closePost(){ modal.classList.remove('open'); }

    document.querySelectorAll('[data-post]').forEach(card=>{
      card.style.cursor='pointer';
      card.addEventListener('click', ()=> openPost(card.getAttribute('data-post')));
    });
    closeBtn.addEventListener('click', closePost);
    modal.addEventListener('click', (e)=>{ if(e.target === modal) closePost(); });
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closePost(); });

    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>


